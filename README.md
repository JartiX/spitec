# Spitec - Визуализация траекторий подионосферных точек спутников и событий

Веб-инструмент для визуализации траекторий спутников, ионосферных данных и анализа ионосферных событий на основе данных космической погоды.

![Снимок экрана Spitec](/docs/images/demonstration.png)

## Функциональные возможности

- **Интерактивная визуализация спутников**: Просмотр и взаимодействие с траекториями спутников на глобальной карте
- **Несколько типов проекций**: Выбор между проекциями Меркатора, Робинсона и Ортографической
- **Анализ временных рядов данных**: Анализ ионосферных данных, включая:
  - Вариации ПЭС (полного электронного содержания) за 2-10 минут
  - Вариации ПЭС за 10-20 минут
  - Вариации ПЭС за 20-60 минут
  - ROTI (индекс скорости изменения ПЭС)
  - Скорректированный ПЭС
  - Углы места и азимут
- **Инструменты выбора станций**: Фильтрация станций наблюдения по региону или расстоянию большого круга
- **Пользовательские точки и траектории**: Добавление и управление пользовательскими точками и траекториями на карте
- **Отметки событий**: Отметка и визуализация ионосферных событий
- **Обмен данными**: Возможность делиться сессиями анализа и загружать данные
- **Постоянное хранилище данных**: Все данные сохраняются для будущих сессий

## Демонстрация

[![Демонстрация](https://img.shields.io/badge/%D0%94%D0%B5%D0%BC%D0%BE%D0%BD%D1%81%D1%82%D1%80%D0%B0%D1%86%D0%B8%D1%8F-%D0%9F%D0%B5%D1%80%D0%B5%D0%B9%D1%82%D0%B8-brightgreen)](https://spitec.onrender.com)

## Установка

### Использование Docker (Рекомендуется)

1. Клонировать репозиторий:
   ```bash
   git clone https://github.com/JartiX/spitec.git
   cd spitec
   ```

2. Собрать и запустить с Docker Compose:
   ```bash
   docker-compose up -d
   ```

3. Доступ к приложению по адресу http://localhost:8050

### Ручная установка

1. Клонировать репозиторий:
   ```bash
   git clone https://github.com/JartiX/spitec.git
   cd spitec
   ```

2. Установить зависимости с помощью Poetry:
   ```bash
   pip install poetry
   poetry install --all-extras
   ```

3. Создать необходимые директории:
   ```bash
   mkdir -p /var/spitec/data
   mkdir -p cache
   mkdir -p logging
   ```

4. Запустить приложение:
   ```bash
   python wsgi.py
   ```

5. Доступ к приложению по адресу http://localhost:8050

## Руководство по использованию

### Загрузка данных

1. Нажмите кнопку "Загрузить"
2. Выберите дату для данных наблюдений
3. Проверьте размер файла с помощью "Проверить размер файла"
4. Нажмите "Загрузить файл", чтобы получить данные

### Визуализация траекторий спутников

1. Откройте загруженный файл данных с помощью кнопки "Открыть"
2. Выберите станции на карте, нажимая на них
3. Выберите спутник из выпадающего меню
4. Настройте временной ползунок для установки периода визуализации
5. Выберите продукты данных для визуализации

### Выбор региона станций

1. Перейдите на вкладку "Выборка по региону"
2. Введите границы широты/долготы или используйте расстояние большого круга
3. Нажмите "Применить", чтобы отфильтровать станции по заданным критериям

### Пользовательские точки и траектории

1. Перейдите на вкладки "Добавление точек" или "Добавление траекторий"
2. Введите имена, координаты и визуальные свойства
3. При необходимости загрузите файлы траекторий (формат CSV)

### Обмен анализом

1. Нажмите кнопку "Поделиться"
2. Введите свой email-адрес
3. Поделитесь сгенерированной ссылкой для совместной работы с другими
4. Используйте "Выгрузить данные" для экспорта результатов анализа

## Структура проекта

```
spitec/
├── spitec/
│   ├── callbacks/      # Функции обратного вызова Dash
│   ├── processing/     # Модули обработки данных
│   ├── view/           # Компоненты пользовательского интерфейса
├── data/               # Хранилище для файлов данных HDF5
├── cache/              # Дисковый кэш для приложения
├── logging/            # Логи приложения
├── main.py             # Основная точка входа в приложение
├── wsgi.py             # Конфигурация WSGI-сервера
├── pyproject.toml      # Зависимости и метаданные проекта
└── docker-compose.yml  # Конфигурация Docker
```

## Технологии

- **Python 3.10+**
- **Dash & Plotly**: Для интерактивных веб-визуализаций
- **H5py**: Для обработки файлов данных HDF5
- **Flask**: Веб-фреймворк
- **Waitress**: Производственный WSGI-сервер
- **Poetry**: Управление зависимостями
- **Docker**: Контейнеризация

## Лицензия

Этот проект лицензирован под лицензией MIT - см. файл [LICENSE](LICENSE) для подробностей.

## Авторы

Разработан SIMuRG